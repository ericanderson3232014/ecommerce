
{% extends 'index.html' %}
{% load static %}

{% block title %}
    Payment center
{% endblock title %}


{% block content %}

    <style>

        .payment-center-wrapper {
            min-height: 100vh;
            width: 95%;
            max-width: 800px;
            margin: 0 auto;
            padding: 3rem 0;
            display: flex; 
            flex-direction: column;
        }

        .purchase-items {
            background: white;
            padding: 1.3rem;
            border-radius: 10px;

            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .purchase-items > h2 {
            letter-spacing: 0.05rem;
            margin-bottom: 1rem;
            font-size: 22px;
            color: rgb(37, 37, 37);
        }

        .purchased-item-headers {
            display: grid;
            border-bottom: 1px solid rgb(209, 209, 209);
        }

        .purchased-item-headers > ul {
            list-style-type: none;
            display: grid;
            gap: 1rem;
            grid-template-columns: repeat(4, 1fr);
        }

        .purchased-item-headers > ul > li {
            text-transform: capitalize;
            font-weight: bold;
            letter-spacing: 0.05rem;
            word-break: break-word;
            padding-bottom: 0.2rem;
        }

        .purchase-item {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            border-bottom: 1px solid rgb(209, 209, 209);
        }

        .purchase-item > p {
            letter-spacing: 0.05rem;
            color: rgb(37, 37, 37);
            word-break: break-word;
            padding-bottom: 0.2rem;
        }

        .purchase-btn {
            background: orangered;
            color: white;
            padding: 0.6rem 2rem;
            border-radius: 5px;
            border: none;
            font-size: 1rem;
            letter-spacing: 0.05rem;
            cursor: pointer;
        }

        .purchase-items-total-amount {
            align-self: end;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .purchase-items-total-amount > h3 {
            color: rgb(43, 43, 43);
            font-weight: 500 !important;
            font-size: 17px;
        }

        @media screen and (max-width: 552px) {
            .purchased-item-headers > ul > li {
                letter-spacing: initial;
                font-size: 0.9rem;
            }
            .purchase-item > p {
                letter-spacing: initial;
                font-size: 0.9rem;
            }
        }
        
    </style>

    <div class="payment-center-wrapper">
        <div class="purchase-items">
            <h2>Checkout summary</h2>
            <div class="purchased-item-headers">
                <ul>
                    <li>Name</li>
                    <li>Price</li>
                    <li>Quantity</li>
                    <li>Total</li>
                </ul>
            </div>
            {% for item in query_set %}
                <a href="{{ item.product.get_absolute_url }}" class="purchase-item">
                    <p>{{ item.product.name }}</p>
                    {% if item.product.get_discount_price %}
                        <p>P{{ item.product.get_discount_price }}</p>
                    {% else %}
                        <p>P{{ item.product.price }}</p>
                    {% endif %}
                    <p>{{ item.quantity }}</p>
                    <p>P{{ item.get_order_total}}</p>
                </a>
            {% endfor %}
            <div class="purchase-items-total-amount">
                <h3>Number of items: {{ num_of_product }}</h3>
                <h3>Total savings: P{{ discount_amount }}</h3>
                <h3>Total amount due: P{{ sub_total }}</h3>
                <button class="purchase-btn" id="purchase-btn">Purchase</button>
            </div>
           
        </div>
    </div>
    
{% endblock content %}


